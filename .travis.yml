language: node_js
node_js:
  - "10"
cache: npm
before_install:
  - cd aofl-js-packages
install:
  - npm ci
jobs:
  include:
    - if: branch = master
      env:
        - secure: lTxXU8SGuUo9qFfdtq36hY0zBr2xDEQfEAkZ6wsoW/1UszJEHmJ+yGbvnAeP4E/IGW/d/hNBOFJYVAJBth4WBNnU9uCoUX+NtveoUbM/azRa3V+BXBf3DrqfynqAWL3hd0Z7wuo4UGvq0ScXJBQBvRGD87HqYsCPSIF63ewPWfaRBH9mH/yDJCmDAMHbz92FBDaSEP/3nDgxVLpDapsiqcjyEV8Rx4bGXja0tpDz5dbfO5ahFzmVxXR2VO+QZ2tePCes7N5So8vIKmNvbue7fONbHl9GBN4/GXuGkf9Uc9NYHilAGfBMRnRMuV4F0n7mBF9eF/+UDE6kynQo18zqQffQEt3RcTy2B35hPaFfaWCk7HBvIDZy1q+UtbjuWFDmmZJl8BAAklpM40UD6Re+hp0vqI4kgqsnd/1SGSEsMt21G8hRGX7MZ+unEF/n8cwKS9lrvE4ULAhucPPaVDMT9Ba8so9hIdx+9r7XI4GELswNPiLU9T3A4ywmPXHoNmaq+4ZmapHBEvoSnI7Wc9DS8skqigxaK6ievX484xMoXypoi6v3baZ/CMQe/kimOajKh6XcZnVM3oKLTm3SjAvHDiEHs68NmAu4ikNxqp+kwG0GpQJlUJ+FerCNmTf1n86dD2bwZpbHKS+9Kyks4a6s0r6an+5RRs8ERFk5uuaCBq4=
        - secure: xHo8S6TcwZn1p3MxKGkcQ6OJrcJTqjZNhfbBdsgyCSOMjNEwSkZGuQ4PQB7SvZWw9Bj34rDnJYYt5ZcGafNUW0qdlXU5JlrUsF6P8IWeRNVXevzJamrS/h2C0xlC8qnXG281P5nHVkx9N7v4wG5iYzGu2IrmC6yq5qCRcmuLBl4ZbgIWNLwqqg/YARSTO0xRdElDtdbFacR5rbDAqFg2j5htFZwxGExacWviook33nMDZOTm1/tAzyPoem3Rul+mieM0U9claYCP8kBsJowZL5JDRZWgxiMgmUdgd+eyqmi5dHKPTRbcE4UsNkYogEoNnhv2VWBme7WoimjF43iweKr0RKfZ+yUBXiFr8ceZ5BjYG9p3CGAKK/eEAWYzCeS4h32RZfQ4TquBf5xzGSQRdMtb+tHPD9gYvXIAI21jxbYxhUt5bVcXg6UguLZL5AsBhGNK6n7N3GDFKM6SVNRnqPUXrBhdr23zPeMXVHzURlnOpPWNZpN5OGOmGl0cyMEx/DFahB/KarfNEClpyoteKcvVXgxDl/tfFrXd0fIKEBNhAOGIMLlJH/4ctZGG50mON1ZRtZtMnIgJOCHfMcaYtSRqh9CJxTHqp6OD6bFxitAAz9EVeP9siyv+dwi+FYtzahXUILCVJ1FdU/d7LWnHxLNQJV8r93fx/Slmg26yALI=
    - stage: lint
      script: npm run lint
    - stage: unit-test
      script: npm run test:sl
    - stage: coverage-report
      script: cat ../docs/v1.x/coverage/lcov.info | npx coveralls
